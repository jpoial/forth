 MODULA-2                                                       FORTH + Asm-jupid                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ( #1 Prn?  x --- printer_status ; x=0|1|2          29/11/1990 )                                                                 HEX                                                             CREATE Prn? HERE  DUP BODY> !                                       59 C, 5A C, B4 C, 02 C, CD C, 17 C, 50 C, 51 C,                 E9 C,                                                           NEXT-LINK HERE 2 + - H,                                                                                                     DECIMAL                                                         -->                                                                                                                                                                                                                                                                                                                                                                                                                                                             ( #2 GET_KEY.ASM                                     01/20/91 ) -->                                                             ( Jourdain, lk. 104. 80 - Insert, 40 - CapsLock, 20 - NumLock,  10 - ScrollLock, 08 - AltShift, 04 - CtrlShift,                 02 - LefthandShift, 01 - RighthandShift )                                                                                       HEX                                                             CREATE keys? HERE  DUP BODY> !                                      B4 C, 02 C, CD C, 16 C, 50 C, 50 C,                             51 C, 51 C, E9 C,                                               NEXT-LINK HERE 2 + - H,                                                                                                     : ?KEYS ( --- staatusebaidid )                                  keys? SWAP FFFF AND SWAP FFFF AND ;                             DECIMAL                                                         -->                                                             ( #3 SET_KEY.ASM                                     01/20/91 ) ( Jourdain, lk. 104. 80 - Insert, 40 - CapsLock, 20 - NumLock,  10 - ScrollLock, 08 - AltShift, 04 - CtrlShift,                 02 - LefthandShift, 01 - RighthandShift )                       ( lliti: XOR )                                                 HEX                                                             CREATE !keys HERE  DUP BODY> !                                      2B C, C0 C, 8E C, C0 C, 58 C, 58 C,                             26 C, 30 C, 06 C, 0417 H,                                       51 C, E9 C,                                                     NEXT-LINK HERE 2 + - H,                                                                                                     : !KEYS ( staatusebait --- )                                    !keys ;                                                         DECIMAL                                                         ;S                                                              ( #4 SET_BORD.ASM                                    01/20/91 ) ( Jourdain, lk. 150. NB! ei k„i - PCjr oma!                     ( 0 must 1 sini 2 rohe 3 lilla 4 puna 5 h-sin 6 pruun 7 valge     8 hall 9     10     11      12     13      14 kolla 15    )   HEX                                                             CREATE bord! HERE  DUP BODY> !                                      58 C, 58 C, BA C, 03D9 H, EE C,                                 51 C, E9 C,                                                     NEXT-LINK HERE 2 + - H,                                                                                                     : !BORD ( v„rv --- )                                            bord! ;                                                         DECIMAL                                                         ;S                                                                                                                                                                                              ( #5 SET_BORD.ASM                                    01/20/91 ) ( Jourdain, lk. 150. NB! PCjr )                                 ( 0 must 1 sini 2 rohe 3 lilla 4 puna 5 h-sin 6 pruun 7 valge     8 hall 9     10     11      12     13      14 kolla 15    )   HEX                                                             CREATE !bord HERE  DUP BODY> !                                      B0 C, 09 C, BA C, 03D9 H, EE C,                                 51 C, E9 C,                                                     NEXT-LINK HERE 2 + - H,                                                                                                     : BORD! ( v„rv --- )                                            !bord ;                                                         DECIMAL                                                         ;S                                                                                                                                                                                              ( select drive                                       01/21/91 ) HEX                                                             CREATE select HERE  DUP BODY> !                                     B4 C, 0E C, 5A C, 5A C, CD C, 21 C, ( MOV AH,0EH POP DX                                               INT 21H )                 E9 C,                                                           NEXT-LINK HERE 2 + - H,                                                                                                     : SELECT_DRIVE ( drive# --- )                                   select FF AND 0= ;                                              ;S                                                                                                                                                                                                                                                                                                                                                                                              ( #3 SET_KEY.ASM                                     01/20/91 ) ( Jourdain, lk. 104. 80 - Insert, 40 - CapsLock, 20 - NumLock,  10 - ScrollLock, 08 - AltShift, 04 - CtrlShift,                 02 - LefthandShift, 01 - RighthandShift )                       ( K“ik maha )                                                                                                                   HEX                                                             CREATE keys! HERE  DUP BODY> !                                      2B C, C0 C, 8E C, C0 C, 58 C, 58 C, 26 C, A3 C, 417 H,          51 C, E9 C,                                                     NEXT-LINK HERE 2 + - H,                                                                                                     : !KEYS ( b --- )                                               keys! ;                                                         DECIMAL                                                         ;S                                                              ( #8 SET_KEY.ASM                                     01/20/91 ) ( Jourdain, lk. 104. 80 - Insert, 40 - CapsLock, 20 - NumLock,  10 - ScrollLock, 08 - AltShift, 04 - CtrlShift,                 02 - LefthandShift, 01 - RighthandShift )                       ( K“ik maha, sisse CapsLock )                                                                                                   HEX                                                             CREATE fkeys! HERE  DUP BODY> !                                     2B C, C0 C, 8E C, C0 C, B8 C, 40 C, 40 C, 26 C, A3 C, 417 H,    51 C, E9 C,                                                     NEXT-LINK HERE 2 + - H,                                                                                                     : !FKEYS ( --- )                                                fkeys! ;                                                        DECIMAL                                                         ;S                                                              ( 3 MODE                                             01/22/91 ) HEX                                                             CREATE EGA! HERE  DUP BODY> !                                       2B C, C0 C, 8E C, C0 C, 26 C, 8A C, 16 C, 0410 H,               80 C, E2 C, CF C, 26 C, 88 C, 16 C, 0410 H,                     B4 C, 00 C, B0 C, 03 C, CD C, 10 C,                             51 C, E9 C,                                                     NEXT-LINK HERE 2 + - H,                                     ;S                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ( SCROLL A TEXT SCREEN HORIZONTALLY J-232            01/22/91 ) HEX                                                             CREATE H-SCROLL HERE  DUP BODY> !                                   B8 C, B000 H,     8E C, C0 C, 8E C, D8 C, BE C, 000A H,         BF C, 0000 H,     B9 C, 07CB H,  F3 C, A5 C, B4 C, 06 C,        B0 C, 00 C, B5 C, 00 C, B1 C, 4B C, B6 C, 18 C, B2 C,           4F C, B7 C, 07 C, CD C, 10 C,                                   51 C, E9 C,                                                     NEXT-LINK HERE 2 + - H,                                     ;S                                                                                                                              EI K„I.                                                                                                                                                                                                                                                                                                                         ( DETERMINE AVAILABLE DISK SPACE    J-247            01/22/91 ) HEX                                                             CREATE d-space HERE  DUP BODY> !                                    B4 C, 36 C, 5A C, 5A C, CD C, 21 C,                             51 C, 51 C, 50 C, 50 C, 53 C, 53 C,                             51 C, E9 C,                                                     NEXT-LINK HERE 2 + - H,                                     : D-SPACE ( drive --- CX AX BX )                                d-space FFFF AND SWAP FFFF AND * SWAP FFFF AND * ;              ;S                                                              A: 1, B: 2 jne CX=# baiti sektoris, AX=# sektorit klastris,     BX=# vabad klastrid.                                                                                                                                                                                                                                                                                                            (                                                    01/23/91 ) : FA: ( --- n )                                                 54 1 FDOS * 512 * ;                                             : FB: ( --- n )                                                 54 2 FDOS * 512 * ;                                             : FC: ( --- n )                                                 54 3 FDOS * 1024 * ;                                            : FD: ( --- n )                                                 54 4 FDOS * 1024 * ;                                            : GET-CURRYFREE ( --- n )                                       25 0 FDOS DROP 255 AND 1+                                       CASE 1 OF FA: ENDOF                                                  2 OF FB: ENDOF                                                  3 OF FC: ENDOF                                                  4 OF FD: ENDOF                                             ENDCASE ;                       ;S                              ( test drive                                         01/21/91 ) HEX                                                             CREATE testd HERE  DUP BODY> !                                      B4 C, 01 C, CD C, 13 C, 50 C, 50 C,                             E9 C,                                                           NEXT-LINK HERE 2 + - H,                                                                                                     : TEST_DRIVE ( --- f )                                          testd FF AND 0= ;                                               ;S                                                                                                                                                                                                                                                                                                                                                                                                                                                              